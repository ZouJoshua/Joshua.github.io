<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>心安即行 自在欢喜</title>
  <subtitle>一生所求  爱与自由  你与温柔</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://joshuazou.cn/"/>
  <updated>2017-07-31T03:12:59.269Z</updated>
  <id>http://joshuazou.cn/</id>
  
  <author>
    <name>Joshua Zou</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Hexo + Github 搭建静态博客</title>
    <link href="http://joshuazou.cn/2017/07/25/Hexo%20+%20Github%20%E6%90%AD%E5%BB%BA%E9%9D%99%E6%80%81%E5%8D%9A%E5%AE%A2/"/>
    <id>http://joshuazou.cn/2017/07/25/Hexo + Github 搭建静态博客/</id>
    <published>2017-07-25T02:00:00.000Z</published>
    <updated>2017-07-31T03:12:59.269Z</updated>
    
    <content type="html"><![CDATA[<blockquote>
<p><strong>前言</strong></p>
<p>最近用 Python 的 Pelican 搭建了自己的静态博客，<a href="https://zoujoshua.github.io" target="_blank" rel="external">效果预览</a>（现已换成hexokinase））。在用 Pelican 搭建博客的过程中几乎 Pelican 支持的主题都试过，都没什么让自己满意的，最后才勉强选了个看的过去的主题，但是当我看到 Hexo 搭建的博客系统的时候，瞬间觉得 Hexo 的 NexT 主题简洁又大方，很喜欢，所以打算继续折腾下，顺便简单了解下 Node.js 的静态博客框架。<br><a id="more"></a></p>
</blockquote>
<h2 id="Hexo-简介"><a href="#Hexo-简介" class="headerlink" title="Hexo 简介"></a>Hexo 简介</h2><p>Hexo 出自台湾大学生tommy351之手,是由Node.js驱动的一款快速、简单且功能强大的博客框架。Node.js是一个可以快速构建网络服务及应用的平台，该平台的构建是基于Chrome’s JavaScript runtime，也就是说，实际上它是对Google V8引擎（应用于Google Chrome浏览器)进行了封装，而 V8 引擎执行Javascript的速度非常快，性能非常好。Node对一些特殊用例进行了优化，提供了替代的API，使得V8在非浏览器环境下运行得更好。</p>
<h2 id="环境配置"><a href="#环境配置" class="headerlink" title="环境配置"></a>环境配置</h2><p><strong>本地环境</strong></p>
<ul>
<li>Windows 10/64位</li>
</ul>
<p><strong>安装 Git Bash</strong></p>
<ul>
<li><a href="https://git-for-windows.github.io/" target="_blank" rel="external">下载地址</a></li>
<li>双击下载好的exe文件，一路 Next就行</li>
<li><p>安装好后，打开Git Bash，用命令<code>git version</code>查看版本</p>
  <figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">git version</div></pre></td></tr></table></figure>
</li>
</ul>
<p><strong>安装 Node.js</strong></p>
<ul>
<li><a href="https://nodejs.org/en/" target="_blank" rel="external">下载地址</a>(说明：LTS为长期支持版，Current为当前最新版)</li>
<li>安装步骤：msi文件下载完成后，双击打开安装，一直 Next（<em>注意：在Custom Setup这一步记得选 Add to PATH ,这样就不需要自己去配置环境变量</em>），安装完成后打开 cmd ，在 cmd 中输入 path 可以看到你的 node 是否配置到环境变量里，如果没有，手动添加到环境变量。</li>
<li>查看版本 ： 在 cmd 中输入命令 <code>node -v</code></li>
</ul>
<p><strong>安装 Hexo</strong></p>
<ul>
<li>先创建一个文件夹（用来存放所有blog的东西），然后cd到该文件夹下。</li>
<li><p>安装hexo命令：</p>
  <figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm instal -g hexo （`-g`表示全局安装, `npm`默认为当前项目安装）</div></pre></td></tr></table></figure>
<p>  <em>node.js 和 git 安装好后，建议使用 git 提供的命令行窗口进行操作，windows自带的cmd会报错。</em></p>
</li>
<li><p>安装完成后，查看版本：<code>hexo -v</code></p>
<p>  <img src="http://i.imgur.com/89mkcaQ.png" alt=""></p>
</li>
<li><p>初始化命令：<code>hexo init</code> ，初始化完成之后打开所在的文件夹可以看到以下文件</p>
  <figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">Nodejs-blog/</div><div class="line">├── node_modul          <span class="comment"># 依赖包目录，包含各类生成器/渲染器/服务器等</span></div><div class="line">├── public              <span class="comment"># 在运行hexo g和hexo s 后生成的静态页面目录</span></div><div class="line">├── scaffolds  			<span class="comment"># 命令生成文章等的模板的目录</span></div><div class="line">├── <span class="built_in">source</span>          	<span class="comment"># 用命令创建的各种文章的目录</span></div><div class="line">|   ├── _drafts   		<span class="comment"># 草稿（后期通过命令生成）</span></div><div class="line">|   └── _posts    		<span class="comment"># 文章</span></div><div class="line">├── themes         		<span class="comment"># 主题目录</span></div><div class="line">├── _config.yml     	<span class="comment"># 整个博客的配置文件</span></div><div class="line">├── db.json     		<span class="comment"># source解析所得到的文件</span></div><div class="line">└── package.json     	<span class="comment"># 项目所需模块项目的配置信息文件</span></div></pre></td></tr></table></figure>
</li>
<li><p>必备插件，建议一起安装（一般已在依赖包里自动生成，如果没有可执行以下命令）</p>
  <figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">npm install hexo-generator-index --save 		<span class="comment"># 索引生成器</span></div><div class="line">npm install hexo-generator-archive --save 		<span class="comment"># 归档生成器</span></div><div class="line">npm install hexo-generator-category --save 		<span class="comment"># 分类生成器</span></div><div class="line">npm install hexo-generator-tag --save 			<span class="comment"># 标签生成器</span></div><div class="line">npm install hexo-server --save 					<span class="comment"># 本地服务</span></div><div class="line">npm install hexo-deployer-git --save 			<span class="comment"># hexo通过git发布（必装）</span></div><div class="line">npm install hexo-renderer-marked@0.2.7--save 	<span class="comment"># 渲染器</span></div><div class="line">npm install hexo-renderer-stylus@0.3.0 --save 	<span class="comment"># 渲染器</span></div></pre></td></tr></table></figure>
</li>
<li><p>测试是否配置成功</p>
<p>  生成静态页面，cd至之前初始化的目录，执行如下命令，即可生成静态页面至public目录</p>
  <figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">hexo g</div></pre></td></tr></table></figure>
<p>  启动本地服务，进行预览（必须安装hexo server）</p>
  <figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">hexo s</div></pre></td></tr></table></figure>
<p>  浏览器输入 <code>localhost:4000</code> 即可访问默认的 <code>Hexo</code> 博客效果。如果没有报错则表示 <code>Hexo</code> 基本配置安装成功，可进行自定义定制。</p>
<p>  如果访问 <code>http://localhost:4000/</code> 无反应，可能由于默认端口被占用引起的。使用 Ctrl+C 中断本地服务，使用命令自定义端口 <code>hexo s -p 5000</code> 重新开启本地服务，访问 <code>http://localhost:5000/</code> 可以看到博客页面了。</p>
</li>
<li><p>常用命令</p>
  <figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">hexo new <span class="string">"postName"</span> 		<span class="comment"># 新建文章</span></div><div class="line">hexo new page <span class="string">"pageName"</span> 	<span class="comment"># 新建页面</span></div><div class="line">hexo generate 				<span class="comment"># 生成静态页面至public目录</span></div><div class="line">hexo server 				<span class="comment"># 开启预览访问端口（默认端口4000，'ctrl + c'关闭server）</span></div><div class="line">hexo deploy 				<span class="comment"># 将.deploy目录部署到GitHub</span></div><div class="line">hexo <span class="built_in">help</span> 					<span class="comment"># 查看帮助</span></div><div class="line">hexo version 				<span class="comment"># 查看Hexo的版本</span></div></pre></td></tr></table></figure>
  <figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">hexo 组合命令</div><div class="line">hexo clean &amp;&amp; hexo g -s 	<span class="comment"># 清除、生成、启动</span></div><div class="line">hexo clean &amp;&amp; hexo g -d 	<span class="comment"># 清除、生成、部署</span></div></pre></td></tr></table></figure>
  <figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">hexo 命令缩写</div><div class="line">hexo g：hexo generate</div><div class="line">hexo c：hexo clean</div><div class="line">hexo s：hexo server</div><div class="line">hexo d：hexo deploy</div></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="安装主题NexT"><a href="#安装主题NexT" class="headerlink" title="安装主题NexT"></a>安装主题NexT</h2><p>Hexo 安装主题的方式非常简单，只需要将主题文件拷贝至站点目录的 themes 目录下， 然后修改下配置文件即可。具体到 NexT 来说，安装步骤如下，可参考<a href="http://theme-next.iissnan.com/getting-started.html" target="_blank" rel="external">NexT</a>。</p>
<h3 id="下载主题"><a href="#下载主题" class="headerlink" title="下载主题"></a>下载主题</h3><p>如果你熟悉 Git， 建议你使用 克隆最新版本 的方式，之后的更新可以通过 git pull 来快速更新， 而不用再次下载压缩包替换。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">cd</span> your-hexo-site  <span class="comment"># 进入自己的blog目录</span></div><div class="line">git <span class="built_in">clone</span> https://github.com/iissnan/hexo-theme-next themes/next</div></pre></td></tr></table></figure>
<h3 id="启用主题"><a href="#启用主题" class="headerlink" title="启用主题"></a>启用主题</h3><p>当 克隆/下载 完成后，打开<code>站点配置文件 _config.yml</code>， 找到 theme 字段，并将其值更改为 next。</p>
<h3 id="验证主题"><a href="#验证主题" class="headerlink" title="验证主题"></a>验证主题</h3><p>NexT 主题安装完成后将验证主题是否正确启用。首先启动 Hexo 本地站点，并开启调试模式（即加上 –debug）。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">hexo clean 			<span class="comment"># 来清除 Hexo 的缓存</span></div><div class="line">hexo s --debug</div></pre></td></tr></table></figure>
<p>在服务启动的过程，注意观察命令行输出是否有任何异常信息，如果碰到问题，这些信息将帮助他人更好的定位错误。 当命令行输出中提示出：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">INFO  Hexo is running at http://0.0.0.0:4000/. Press Ctrl+C to stop.</div></pre></td></tr></table></figure>
<p>此时即可使用浏览器访问 <code>http://localhost:4000</code> ，检查站点是否正确运行，打开后是 NexT 默认的 Scheme —— Muse。</p>
<h2 id="主题设定"><a href="#主题设定" class="headerlink" title="主题设定"></a>主题设定</h2><p>在 <code>Hexo</code> 中有两份主要的配置文件，其名称都是 <code>_config.yml</code>。 其中，一份位于站点根目录下，主要包含 <code>Hexo</code> 本身的配置；另一份位于主题<code>themes</code>目录下，这份配置由主题作者提供，主要用于配置主题相关的选项。</p>
<p>为了描述方便，在以下说明中，将前者称为 <code>站点配置文件</code>， 后者称为 <code>主题配置文件</code>。</p>
<h3 id="选择-Scheme"><a href="#选择-Scheme" class="headerlink" title="选择 Scheme"></a>选择 Scheme</h3><p><code>Scheme</code> 是 <code>NexT</code> 提供的一种特性，借助于 <code>Scheme</code>，<code>NexT</code> 为你提供多种不同的外观。同时，几乎所有的配置都可以 在 <code>Scheme</code> 之间共用。目前 <code>NexT</code> 支持三种 <code>Scheme</code>，他们是：</p>
<ul>
<li><code>Muse</code> - 默认 <code>Scheme</code>，这是 <code>NexT</code> 最初的版本，黑白主调，大量留白</li>
<li><code>Mist</code> - <code>Muse</code> 的紧凑版本，整洁有序的单栏外观</li>
<li><code>Pisces</code> - 双栏 <code>Scheme</code>，小家碧玉似的清新</li>
</ul>
<p><code>Scheme</code> 的切换通过更改 主题配置文件，搜索 <code>scheme</code> 关键字。 你会看到有三行 <code>scheme</code> 的配置，将你需用启用的 <code>scheme</code> 前面注释 # 即可。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># Schemes</span></div><div class="line">scheme: Muse</div><div class="line"><span class="comment">#scheme: Mist</span></div><div class="line"><span class="comment">#scheme: Pisces</span></div></pre></td></tr></table></figure>
<h3 id="设置语言"><a href="#设置语言" class="headerlink" title="设置语言"></a>设置语言</h3><p>编辑 <code>站点配置文件</code>， 将 <code>language</code> 设置成你所需要的语言。建议明确设置你所需要的语言，例如选用简体中文，配置如下：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">language: zh-Hans</div></pre></td></tr></table></figure>
<h3 id="网站logo设置"><a href="#网站logo设置" class="headerlink" title="网站logo设置"></a>网站logo设置</h3><ul>
<li>通过网站<a href="http://tool.lu/favicon/" target="_blank" rel="external">favicon在线制作</a>制作<code>favicon</code>图片，<code>logo</code>最好设置<code>32*32</code>。</li>
<li><code>next</code>主题：将图片放在站点<code>source</code>目录下新建 <code>images</code>文件夹</li>
<li><p>在<code>next 主题配置文件</code>中修改：</p>
  <figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">favicon: /images/favicon.ico</div></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="修改网站相关信息"><a href="#修改网站相关信息" class="headerlink" title="修改网站相关信息"></a>修改网站相关信息</h3><p>编辑 <code>站点配置文件</code>：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># Site</span></div><div class="line">title: 	心安即行 自在欢喜						<span class="comment"># 网站title</span></div><div class="line">subtitle: 一生所求  爱与自由  你与温柔			<span class="comment"># 副标题，网站名下面描述</span></div><div class="line">description: 数据科学、数据挖掘分析博客		<span class="comment"># 网站描述，便于搜索引擎用关键词检索，也可以是自己喜欢的签名</span></div><div class="line">author: Joshua Zou							<span class="comment"># 网站作者昵称</span></div><div class="line">language: zh-Hans</div><div class="line">timezone: Asia/Shanghai</div></pre></td></tr></table></figure>
<h3 id="站点建立时间"><a href="#站点建立时间" class="headerlink" title="站点建立时间"></a>站点建立时间</h3><p>这个时间将在站点的底部显示，例如 <code>© 2013 - 2015</code>。 编辑 <code>主题配置文件</code>，新增字段 <code>since</code>。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">since: 2016</div></pre></td></tr></table></figure>
<h3 id="设置菜单"><a href="#设置菜单" class="headerlink" title="设置菜单"></a>设置菜单</h3><p>菜单配置包括三个部分，第一是菜单项（名称和链接），第二是菜单项的显示文本，第三是菜单项对应的图标。 <code>NexT</code> 使用的是 <code>Font Awesome</code> 提供的图标， <a href="http://fontawesome.io/" target="_blank" rel="external">Font Awesome</a> 提供了 <code>600+</code> 的图标，可以满足绝大的多数的场景，同时无须担心在 <code>Retina</code> 屏幕下图标模糊的问题。</p>
<p>编辑 <code>主题配置文件</code>，修改以下内容：</p>
<ul>
<li><p>设定菜单内容，对应的字段是 <code>menu</code>。</p>
<p>  菜单内容的设置格式是：<code>item name: link</code>。其中 <code>item name</code> 是一个名称，这个名称并不直接显示在页面上，它将用于匹配图标以及翻译。</p>
  <figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">menu:</div><div class="line">  home: /</div><div class="line">     archives: /archives</div><div class="line">     about: /about</div><div class="line">     categories: /categories</div><div class="line">     tags: /tags</div><div class="line">     <span class="comment">#commonweal: /404.html</span></div><div class="line">  search: /search</div></pre></td></tr></table></figure>
</li>
<li><p>置菜单项的显示文本。</p>
<p>  在第一步中设置的菜单的名称并不直接用于界面上的展示。<code>Hexo</code> 在生成的时候将使用 这个名称查找对应的语言翻译，并提取显示文本。这些翻译文本放置在 <code>NexT</code> 主题目录下的 <code>languages/{language}.yml</code> （{<code>language</code>} 为你所使用的语言）。</p>
<p>  以简体中文为例，若你需要添加一个菜单项，比如 <code>life</code>。那么就需要修改简体中文对应的翻译文件 <code>languages/zh-Hans.yml</code>，在 <code>menu</code> 字段下添加一项：</p>
  <figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">menu:</div><div class="line">	home: 首页</div><div class="line">	archives: 归档</div><div class="line">	categories: 分类</div><div class="line">	tags: 标签</div><div class="line">	about: 关于</div><div class="line">	search: 搜索</div><div class="line">	commonweal: 公益404</div><div class="line">	life: 生活日志</div></pre></td></tr></table></figure>
</li>
<li><p>设定菜单项的图标，对应的字段是 <code>menu_icons</code>。</p>
<p>  此设定格式是 <code>item name: icon name</code>，其中 <code>item name</code> 与上一步所配置的菜单名字对应，<code>icon name</code> 是 <code>Font Awesome</code> 图标的 名字。而 <code>enable</code> 可用于控制是否显示图标，你可以设置成 <code>false</code> 来去掉图标。</p>
  <figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">menu_icons:</div><div class="line">  <span class="built_in">enable</span>: <span class="literal">true</span></div><div class="line">  <span class="comment"># Icon Mapping.</span></div><div class="line">  home: home</div><div class="line">  about: user</div><div class="line">  categories: th</div><div class="line">  tags: tags</div><div class="line">  archives: archive</div><div class="line">  commonweal: heartbeat</div><div class="line">  search: search</div></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="添加「标签」「分类」「关于」页面"><a href="#添加「标签」「分类」「关于」页面" class="headerlink" title="添加「标签」「分类」「关于」页面"></a>添加「标签」「分类」「关于」页面</h4><ul>
<li>新建页面</li>
</ul>
<p>在终端窗口下，定位到 <code>Hexo</code> 站点目录下。使用 <code>hexo new page</code> 新建一个页面，命名为 <code>tags</code> ：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">cd</span> your-hexo-site</div><div class="line">hexo new page tags</div></pre></td></tr></table></figure>
<ul>
<li>设置页面类型</li>
</ul>
<p>编辑刚新建的页面，将页面的类型设置为 <code>tags</code> ，主题将自动为这个页面显示标签云。页面内容如下：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">---</div><div class="line">title: 标签/分类</div><div class="line">date: 2014-12-22 12:39:04</div><div class="line"><span class="built_in">type</span>: <span class="string">"tags"</span>/<span class="string">"categories"</span></div><div class="line">comments: <span class="literal">false</span></div><div class="line">---</div></pre></td></tr></table></figure>
<blockquote>
<p>注意：如果有启用 <code>多说</code> 或者 <code>Disqus</code> 评论，页面也会带有评论。 若需要关闭的话，请添加字段 <code>comments</code> 并将值设置为 <code>false</code>.</p>
</blockquote>
<ul>
<li>修改菜单</li>
</ul>
<p>在菜单中添加链接。编辑 <code>主题配置文件</code> ， 添加 <code>tags</code> 到 <code>menu</code> 中，如下:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">menu:</div><div class="line">  home: /</div><div class="line">  archives: /archives</div><div class="line">  categories: /categories</div><div class="line">  tags: /tags</div></pre></td></tr></table></figure>
<h3 id="设置侧栏"><a href="#设置侧栏" class="headerlink" title="设置侧栏"></a>设置侧栏</h3><p>默认情况下，侧栏仅在文章页面（拥有目录列表）时才显示，并放置于右侧位置。 可以通过修改 <code>主题配置文件</code> 中的 <code>sidebar</code> 字段来控制侧栏的行为。侧栏的设置包括两个部分，其一是侧栏的位置， 其二是侧栏显示的时机。</p>
<ul>
<li><p>设置侧栏的位置，修改 <code>sidebar.position</code> 的值，支持的选项有：</p>
<p>  <code>left</code> - 靠左放置</p>
<p>  <code>right</code> - 靠右放置</p>
  <figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">sidebar:</div><div class="line"> 		position: right</div></pre></td></tr></table></figure>
</li>
<li><p>设置侧栏显示的时机，修改 <code>sidebar.display</code> 的值，支持的选项有：</p>
<p>  <code>post</code> - 默认行为，在文章页面（拥有目录列表）时显示</p>
<p>  <code>always</code> - 在所有页面中都显示</p>
<p>  <code>hide</code> - 在所有页面中都隐藏（可以手动展开）</p>
<p>  <code>remove</code> - 完全移除</p>
  <figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">sidebar:</div><div class="line"> 	  display: post</div></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="侧边栏社交链接"><a href="#侧边栏社交链接" class="headerlink" title="侧边栏社交链接"></a>侧边栏社交链接</h4><p>侧栏社交链接的修改包含两个部分，第一是<code>链接</code>，第二是<code>链接图标</code>。 两者配置均在 <code>主题配置文件</code> 中。</p>
<ul>
<li><p><code>链接</code>放置在 <code>social</code> 字段下，一行一个链接。其键值格式是 <code>显示文本: 链接地址</code>。</p>
  <figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># Social links</span></div><div class="line">social:</div><div class="line">  GitHub: https://github.com/your-user-name</div><div class="line">  Twitter: https://twitter.com/your-user-name</div><div class="line">  微博: http://weibo.com/your-user-name</div><div class="line">  知乎: http://www.zhihu.com/people/your-user-name</div><div class="line">  <span class="comment"># 等等</span></div></pre></td></tr></table></figure>
</li>
<li><p><code>链接的图标</code>，对应的字段是 <code>social_icons</code>。其键值格式是 <code>匹配键: Font Awesome 图标名称</code>，匹配键与上一步所配置的链接的显示文本相同（大小写严格匹配），图标名称是<code>Font Awesome</code> 图标的名字（不必带 fa- 前缀）。<code>enable</code> 选项用于控制是否显示图标，你可以设置成 <code>false</code> 来去掉图标。</p>
  <figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># Social Icons</span></div><div class="line">social_icons:</div><div class="line">  <span class="built_in">enable</span>: <span class="literal">true</span></div><div class="line">  <span class="comment"># Icon Mappings</span></div><div class="line">  GitHub: github</div><div class="line">  Twitter: twitter</div><div class="line">  微博: weibo</div><div class="line">  知乎: user-circle</div></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="友情链接"><a href="#友情链接" class="headerlink" title="友情链接"></a>友情链接</h4><p>编辑 <code>主题配置文件</code> 添加：</p>
<pre><code><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># Blog rolls</span></div><div class="line">links_title: Links</div><div class="line">links:</div><div class="line">  WC: https://weichangit.github.io/</div></pre></td></tr></table></figure>
</code></pre><h4 id="设置头像"><a href="#设置头像" class="headerlink" title="设置头像"></a>设置头像</h4><p>编辑 <code>站点配置文件</code>， 修改字段 <code>avatar</code> 值设置成头像的链接地址。其中，头像的链接地址可以是：</p>
<ul>
<li>完整的互联网 URI: <a href="http://example.com/avatar.jpg" target="_blank" rel="external">http://example.com/avatar.jpg</a></li>
<li><p>站点内的地址</p>
<p>  将头像放置站点目录下的 source/uploads/ （新建uploads目录若不存在）配置为：</p>
  <figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">avatar: /uploads/avatar.jpg</div></pre></td></tr></table></figure>
<p>  或者放置在主题目录下 source/images/ 目录下配置为：</p>
  <figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">avatar: /images/avatar.jpg</div></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="优化主题-sidebar-头像"><a href="#优化主题-sidebar-头像" class="headerlink" title="优化主题 sidebar 头像"></a>优化主题 sidebar 头像</h4><p>为自己的头像添加旋转效果。</p>
<p>修改 <code>/themes/next/source/css/_common/components/sidebar/sidebar-author.styl</code> 文件，在<code>.site-author-image {}</code>内后面添加如下代码。（要保证自己的头像，也就是 <code>avatar.jpg</code> 这个图片是正方形，不是的话你要将其修改成正方形，这样才能通过样式将其展现为很好看的正圆，否则会是一个椭圆形）</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div></pre></td><td class="code"><pre><div class="line">  /* 头像圆形 */</div><div class="line">  border-radius: 80px;</div><div class="line">  -webkit-border-radius: 80px;</div><div class="line">  -moz-border-radius: 80px;</div><div class="line">  box-shadow: inset 0 -1px 0 <span class="comment">#333sf;</span></div><div class="line">  </div><div class="line">  /* 设置循环动画 [animation: (play)动画名称 (2s)动画播放时长单位秒或微秒 (ase-out)动画播放的速度曲线为以低速结束 (1s)等待1秒然后开始动画 (1)动画播放次数(infinite为循环播放) ]*/</div><div class="line">  -webkit-animation: play 2s ease-out 1s 1;</div><div class="line">  -moz-animation: play 2s ease-out 1s 1;</div><div class="line">  animation: play 2s ease-out 1s 1;</div><div class="line">  </div><div class="line">  /* 鼠标经过头像旋转360度 */</div><div class="line">  -webkit-transition: -webkit-transform 1.5s ease-out;</div><div class="line">  -moz-transition: -moz-transform 1.5s ease-out;</div><div class="line">  transition: transform 1.5s ease-out;</div><div class="line">&#125;</div><div class="line">img:hover &#123;</div><div class="line">  /* 鼠标经过停止头像旋转 </div><div class="line">  -webkit-animation-play-state:paused;</div><div class="line">  animation-play-state:paused;*/</div><div class="line">  </div><div class="line">  /* 鼠标经过头像旋转360度 */</div><div class="line">  -webkit-transform: rotateZ(360deg);</div><div class="line">  -moz-transform: rotateZ(360deg);</div><div class="line">  transform: rotateZ(360deg);</div><div class="line">&#125;</div><div class="line">/* Z 轴旋转动画 */</div><div class="line">@-webkit-keyframes play &#123;</div><div class="line">  0% &#123;</div><div class="line">    -webkit-transform: rotateZ(0deg);</div><div class="line">  &#125;</div><div class="line">  100% &#123;</div><div class="line">    -webkit-transform: rotateZ(-360deg);</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line">@-moz-keyframes play &#123;</div><div class="line">  0% &#123;</div><div class="line">    -moz-transform: rotateZ(0deg);</div><div class="line">  &#125;</div><div class="line">  100% &#123;</div><div class="line">    -moz-transform: rotateZ(-360deg);</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line">@keyframes play &#123;</div><div class="line">  0% &#123;</div><div class="line">    transform: rotateZ(0deg);</div><div class="line">  &#125;</div><div class="line">  100% &#123;</div><div class="line">    transform: rotateZ(-360deg);</div><div class="line">  &#125;</div></pre></td></tr></table></figure>
<h4 id="给博客添加LICENSE"><a href="#给博客添加LICENSE" class="headerlink" title="给博客添加LICENSE"></a>给博客添加LICENSE</h4><p>在主题配置文件中添加下面这段代码（添加之前好好看看你的主题配置文件是否已经包含这段代码，已经包含就不用再加一遍了，因为重复会报错），这个<code>LICENSE</code>显示在侧边栏。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># Creative Commons 4.0 International License.</span></div><div class="line"><span class="comment"># http://creativecommons.org/</span></div><div class="line"><span class="comment"># Available: by | by-nc | by-nc-nd | by-nc-sa | by-nd | by-sa | zero</span></div><div class="line">creative_commons: by-nc-sa</div><div class="line"><span class="comment">#creative_commons:</span></div></pre></td></tr></table></figure>
<h3 id="设置-RSS"><a href="#设置-RSS" class="headerlink" title="设置 RSS"></a>设置 RSS</h3><p><code>NexT</code> 中 <code>RSS</code> 有三个设置选项，满足特定的使用场景。 更改 <code>主题配置文件</code>，设定 <code>rss</code> 字段的值：</p>
<ul>
<li><code>false</code>：禁用 <code>RSS</code>，不在页面上显示 <code>RSS</code> 连接</li>
<li><p>留空：使用 <code>Hexo</code> 生成的 <code>Feed</code> 链接。 你可以需要先安装 <code>hexo-generator-feed</code> 插件。</p>
  <figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm install hexo-generator-feed --save</div></pre></td></tr></table></figure>
</li>
<li><p>具体的链接地址：适用于已经烧制过 <code>Feed</code> 的情形</p>
</li>
</ul>
<h3 id="添加听音乐"><a href="#添加听音乐" class="headerlink" title="添加听音乐"></a>添加听音乐</h3><h4 id="代码设置"><a href="#代码设置" class="headerlink" title="代码设置"></a>代码设置</h4><p>在 <code>\themes\next\layout\_macro</code> 目录下新建 <code>high.swig</code> 文件，添加以下内容：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div></pre></td><td class="code"><pre><div class="line">&lt;a title=<span class="string">"收藏到书签，偶尔Relax一下!"</span> rel=<span class="string">"alternate"</span> class=<span class="string">"mw-harlem_shake_slow wobble shake"</span> href=<span class="string">'javascript:(</span></div><div class="line">    /*</div><div class="line">     * Copyright (C) 2015 Rocko (rocko.xyz) &lt;rocko.zxp@gmail.com&gt;</div><div class="line">     *</div><div class="line">     * Licensed under the Apache License, Version 2.0 (the "License");</div><div class="line">     * you may not use this file except in compliance with the License.</div><div class="line">     </div><div class="line">     * Unless required by applicable law or agreed to in writing, software</div><div class="line">     * distributed under the License is distributed on an "AS IS" BASIS,</div><div class="line">     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</div><div class="line">     * See the License for the specific language governing permissions and</div><div class="line">     * limitations under the License.</div><div class="line">     */</div><div class="line">    function go() &#123;</div><div class="line">    </div><div class="line">      var songs = [</div><div class="line">          "http://otr5y24lm.bkt.clouddn.com/music/blog/Josh%20Vietti%20-%20Where%20Is%20the%20Love.mp3", </div><div class="line">          "http://otr5y24lm.bkt.clouddn.com/music/blog/TRON%20-%20%E4%B8%80%E7%94%9F%E6%89%80%E7%88%B1%EF%BC%88Cover%20%E5%8D%A2%E5%86%A0%E5%BB%B7%EF%BC%89.mp3",</div><div class="line">          "http://otr5y24lm.bkt.clouddn.com/music/blog/Bobby%20Tinsley%20-%20Missing%20You.mp3",    </div><div class="line">          "http://otr5y24lm.bkt.clouddn.com/music/blog/%E9%9F%A9%E7%BA%A2%20-%20%E4%B8%80%E4%B8%AA%E4%BA%BA.mp3"    </div><div class="line">          "......"</div><div class="line">      ];</div><div class="line"> </div><div class="line">      function S() &#123;</div><div class="line">          var e = document.getElementById("audio_element_id");</div><div class="line">          if(e != null)&#123;</div><div class="line">              var index = parseInt(e.getAttribute("curSongIndex"));</div><div class="line">              if(index &gt; songs.length - 2) &#123;</div><div class="line">                  index = 0;</div><div class="line">              &#125; else &#123;</div><div class="line">                  index++;</div><div class="line">              &#125;</div><div class="line">              e.setAttribute("curSongIndex", index);</div><div class="line">          &#125;</div><div class="line">          e.src = i;</div><div class="line">          e.play()</div><div class="line">      &#125;</div><div class="line">      function initAudioEle() &#123;</div><div class="line">          var e = document.getElementById("audio_element_id");</div><div class="line">          if(e === null)&#123;</div><div class="line">            e = document.createElement("audio");</div><div class="line">            e.setAttribute("curSongIndex", 0);</div><div class="line">            e.id = "audio_element_id";</div><div class="line">            e.loop = false;</div><div class="line">            e.bgcolor = 0;</div><div class="line">            e.innerHTML = " &lt;p&gt;If you are reading this, it is because your browser does not support the audio element. We recommend that you get a new browser.&lt;/p&gt; &lt;p&gt;";</div><div class="line">            document.body.appendChild(e);</div><div class="line">            e.addEventListener("ended", function() &#123;</div><div class="line">              go();</div><div class="line">            &#125;, true);</div><div class="line">          &#125;        </div><div class="line">      &#125;</div><div class="line">    </div><div class="line">      initAudioEle();</div><div class="line">      var curSongIndex = parseInt(document.getElementById("audio_element_id").getAttribute("curSongIndex"));</div><div class="line">      var i = songs[curSongIndex];</div><div class="line">      S();</div><div class="line">    &#125;)()'&gt;</div><div class="line">    &lt;i class=<span class="string">"fa fa-music"</span>&gt;&lt;/i&gt; 听音乐&lt;/a&gt;</div></pre></td></tr></table></figure>
<p>在侧边栏引用该文件：</p>
<p>修改 <code>\themes\next\layout\_macro\sidebar.swig</code> ，添加以下代码：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&#123;% include <span class="string">'high.swig'</span> %&#125;</div></pre></td></tr></table></figure>
<p>样式修改：</p>
<p>使 <code>听音乐</code> 和 <code>RSS</code> 并排展示，修改 <code>\themes\next\source\css\_schemes\Pisces\_sidebar.styl</code> 文件(我选的Muse这个样式，默认并排展示)：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">display: inline-block;</div></pre></td></tr></table></figure>
<h4 id="音乐链接获取"><a href="#音乐链接获取" class="headerlink" title="音乐链接获取"></a>音乐链接获取</h4><p>直接打开 <a href="http://music.163.com/" target="_blank" rel="external">网易云音乐网页版</a> 搜索自己喜欢的音乐，下载下来上传到自己的服务器，我的放在<a href="https://www.qiniu.com/" target="_blank" rel="external">七牛云</a>上，自己注册后有一定的免费的空间，可以放图片、音乐等，这样在别人访问自己的博客的时候可以加快速度。</p>
<p>在<code>high.swig</code>文件中添加自己喜欢的音乐：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">var songs = [</div><div class="line">      <span class="string">"http://otr5y24lm.bkt.clouddn.com/music/blog/Josh%20Vietti%20-%20Where%20Is%20the%20Love.mp3"</span>, </div><div class="line">          <span class="string">"http://otr5y24lm.bkt.clouddn.com/music/blog/TRON%20-%20%E4%B8%80%E7%94%9F%E6%89%80%E7%88%B1%EF%BC%88Cover%20%E5%8D%A2%E5%86%A0%E5%BB%B7%EF%BC%89.mp3"</span>,</div><div class="line">          <span class="string">"http://otr5y24lm.bkt.clouddn.com/music/blog/Bobby%20Tinsley%20-%20Missing%20You.mp3"</span>,    </div><div class="line">          <span class="string">"http://otr5y24lm.bkt.clouddn.com/music/blog/%E9%9F%A9%E7%BA%A2%20-%20%E4%B8%80%E4%B8%AA%E4%BA%BA.mp3"</span>    </div><div class="line">      <span class="string">"......"</span></div><div class="line">  ];</div></pre></td></tr></table></figure>
<p>首页听音乐摇晃：</p>
<p>需要加载 <code>css</code> 样式，在 <code>themes\next\layout\_layout.swig</code> 文件的 <code>&lt;/body&gt;</code> 标签前添加以下代码：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">&lt;!-- 听音乐摇晃 --&gt;</div><div class="line">&lt;link href=<span class="string">"http://s3.amazonaws.com/moovweb-marketing/playground/harlem-shake-style.css"</span> rel=<span class="string">"stylesheet"</span> <span class="built_in">type</span>=<span class="string">"text/css"</span>&gt;</div></pre></td></tr></table></figure>
<p>注意：有时候使用 <code>Firefox</code> 、<code>Chrome</code>时会提示非法插件并禁止使用，遇到这种情况我们把样式代码引入到 <code>\themes\next\source\css\_custom\custom.stly</code> 文件即可解决。</p>
<h3 id="开启打赏功能"><a href="#开启打赏功能" class="headerlink" title="开启打赏功能"></a>开启打赏功能</h3><p>越来越多的平台（微信公众平台，新浪微博，简书，百度打赏等）支持打赏功能，付费阅读时代越来越近，特此增加了打赏功能，支持微信打赏和支付宝打赏。 只需要 <code>主题配置文件</code> 中填入 <code>微信</code> 和 <code>支付宝</code> 收款二维码图片地址即可开启该功能。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">reward_comment: 坚持原创技术分享，您的支持将鼓励我继续创作！</div><div class="line">wechatpay: /path/to/wechat-reward-image</div><div class="line">alipay: /path/to/alipay-reward-image</div></pre></td></tr></table></figure>
<h3 id="首页分割线"><a href="#首页分割线" class="headerlink" title="首页分割线"></a>首页分割线</h3><p>在 <code>\themes\next\source\css\_custom\custom.styl</code> 文件中添加以下代码，可以修改博客首页中每篇文章的分割线长度，我设置为了100%长度。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">//index页面中每篇文章相隔的那条线</div><div class="line">.posts-expand &#123;</div><div class="line">  .post-eof &#123;</div><div class="line">    display: block;</div><div class="line">    margin: <span class="variable">$post</span>-eof-margin-top auto <span class="variable">$post</span>-eof-margin-bottom;</div><div class="line">    width: 100%;</div><div class="line">    height: 3px;</div><div class="line">    background: <span class="variable">$grey</span>-light;</div><div class="line">    text-align: center;</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="为博客加入动态背景"><a href="#为博客加入动态背景" class="headerlink" title="为博客加入动态背景"></a>为博客加入动态背景</h3><p>首先找到<code>\themes\next\layout\_layout.swig</code>，在末尾前加上下面一句:（这里提供两种样式，当然你也可以自由更改）。</p>
<ul>
<li><p>默认灰色线条</p>
  <figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt;script <span class="built_in">type</span>=<span class="string">"text/javascript"</span> src=<span class="string">"/js/src/particle.js"</span>&gt;&lt;/script&gt;</div></pre></td></tr></table></figure>
</li>
<li><p>浅蓝色线条</p>
  <figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt;script <span class="built_in">type</span>=<span class="string">"text/javascript"</span> src=<span class="string">"/js/src/particle.js"</span> count=<span class="string">"50"</span> zindex=<span class="string">"-2"</span> opacity=<span class="string">"1"</span> color=<span class="string">"0,104,183"</span>&gt;&lt;/script&gt;</div></pre></td></tr></table></figure>
</li>
</ul>
<p>然后在 <code>themes\source\js\src</code> 下新建文件 <code>particle.js</code> 写上以下代码:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">!<span class="function"><span class="title">function</span></span>()&#123;<span class="keyword">function</span> n(n,e,t)&#123;<span class="built_in">return</span> n.getAttribute(e)||t&#125;<span class="keyword">function</span> e(n)&#123;<span class="built_in">return</span> document.getElementsByTagName(n)&#125;<span class="keyword">function</span> <span class="function"><span class="title">t</span></span>()&#123;var t=e(<span class="string">"script"</span>),o=t.length,i=t[o-1];<span class="built_in">return</span>&#123;l:o,z:n(i,<span class="string">"zIndex"</span>,-1),o:n(i,<span class="string">"opacity"</span>,.5),c:n(i,<span class="string">"color"</span>,<span class="string">"0,0,0"</span>),n:n(i,<span class="string">"count"</span>,99)&#125;&#125;<span class="keyword">function</span> <span class="function"><span class="title">o</span></span>()&#123;c=u.width=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,a=u.height=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight&#125;<span class="keyword">function</span> <span class="function"><span class="title">i</span></span>()&#123;l.clearRect(0,0,c,a);var n,e,t,o,u,d,x=[w].concat(y);y.forEach(<span class="keyword">function</span>(i)&#123;<span class="keyword">for</span>(i.x+=i.xa,i.y+=i.ya,i.xa*=i.x&gt;c||i.x&lt;0?-1:1,i.ya*=i.y&gt;a||i.y&lt;0?-1:1,l.fillRect(i.x-.5,i.y-.5,1,1),e=0;e&lt;x.length;e++)n=x[e],i!==n&amp;&amp;null!==n.x&amp;&amp;null!==n.y&amp;&amp;(o=i.x-n.x,u=i.y-n.y,d=o*o+u*u,d&lt;n.max&amp;&amp;(n===w&amp;&amp;d&gt;=n.max/2&amp;&amp;(i.x-=.03*o,i.y-=.03*u),t=(n.max<span class="_">-d</span>)/n.max,l.beginPath(),l.lineWidth=t/2,l.strokeStyle=<span class="string">"rgba("</span>+m.c+<span class="string">","</span>+(t+.2)+<span class="string">")"</span>,l.moveTo(i.x,i.y),l.lineTo(n.x,n.y),l.stroke()));x.splice(x.indexOf(i),1)&#125;),r(i)&#125;var c,a,u=document.createElement(<span class="string">"canvas"</span>),m=t(),d=<span class="string">"c_n"</span>+m.l,l=u.getContext(<span class="string">"2d"</span>),r=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||<span class="keyword">function</span>(n)&#123;window.setTimeout(n,1e3/45)&#125;,x=Math.random,w=&#123;x:null,y:null,max:2e4&#125;;u.id=d,u.style.cssText=<span class="string">"position:fixed;top:0;left:0;z-index:"</span>+m.z+<span class="string">";opacity:"</span>+m.o,e(<span class="string">"body"</span>)[0].appendChild(u),o(),window.onresize=o,window.onmousemove=<span class="keyword">function</span>(n)&#123;n=n||window.event,w.x=n.clientX,w.y=n.clientY&#125;,window.onmouseout=<span class="function"><span class="title">function</span></span>()&#123;w.x=null,w.y=null&#125;;<span class="keyword">for</span>(var y=[],s=0;m.n&gt;s;s++)&#123;var f=x()*c,h=x()*a,g=2*x()-1,p=2*x()-1;y.push(&#123;x:f,y:h,xa:g,ya:p,max:6e3&#125;)&#125;setTimeout(<span class="function"><span class="title">function</span></span>()&#123;i()&#125;,100)&#125;();</div></pre></td></tr></table></figure>
<h3 id="设置代码高亮主题"><a href="#设置代码高亮主题" class="headerlink" title="设置代码高亮主题"></a>设置代码高亮主题</h3><p><code>NexT</code> 使用 <code>Tomorrow Theme</code> 作为代码高亮，共有5款主题供你选择。 <code>NexT</code> 默认使用的是白色的 <code>normal</code> 主题，可选的值有 <code>normal</code>，<code>night</code>， <code>night blue</code>， <code>night bright</code>， <code>night eighties</code>。更改 <code>highlight_theme</code> 字段，将其值设定成你所喜爱的高亮主题。</p>
<h3 id="修改超链接颜色"><a href="#修改超链接颜色" class="headerlink" title="修改超链接颜色"></a>修改超链接颜色</h3><p>打开<code>\themes\next\source\css\ _variables\base.styl</code>文件，像下面这样改掉这几行：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">// Global link color.</div><div class="line"><span class="variable">$link</span>-color                   = <span class="variable">$my</span>-link-blue</div><div class="line"><span class="variable">$link</span>-hover-color             = <span class="variable">$my</span>-link-hover-blue</div><div class="line"><span class="variable">$link</span>-decoration-color        = <span class="variable">$gray</span>-lighter</div><div class="line"><span class="variable">$link</span>-decoration-hover-color  = <span class="variable">$my</span>-link-hover-blue</div></pre></td></tr></table></figure>
<h2 id="集成常用的第三方服务"><a href="#集成常用的第三方服务" class="headerlink" title="集成常用的第三方服务"></a>集成常用的第三方服务</h2><h3 id="Local-Search"><a href="#Local-Search" class="headerlink" title="Local Search"></a>Local Search</h3><p>添加<code>百度/谷歌/本地</code> 自定义站点内容搜索。</p>
<ul>
<li><p>安装 <code>hexo-generator-searchdb</code>，在站点的根目录下执行以下命令：</p>
  <figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm install hexo-generator-searchdb --save</div></pre></td></tr></table></figure>
</li>
<li><p>编辑 <code>站点配置文件</code>，新增以下内容到任意位置：</p>
  <figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">search:</div><div class="line">  path: search.xml</div><div class="line">  field: post</div><div class="line">  format: html</div><div class="line">  <span class="built_in">limit</span>: 10000</div></pre></td></tr></table></figure>
</li>
<li><p>编辑 <code>主题配置文件</code>，启用本地搜索功能：</p>
  <figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># Local search</span></div><div class="line">local_search:</div><div class="line">  <span class="built_in">enable</span>: <span class="literal">true</span></div></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="阅读次数统计（LeanCloud）"><a href="#阅读次数统计（LeanCloud）" class="headerlink" title="阅读次数统计（LeanCloud）"></a>阅读次数统计（LeanCloud）</h3><ul>
<li>配置<code>LeanCloud</code>：</li>
</ul>
<p>在注册完成 <a href="https://leancloud.cn/" target="_blank" rel="external">LeanCloud</a> 帐号并验证邮箱之后，我们就可以登录我们的<code>LeanCloud</code>帐号，进行一番配置之后拿到<code>AppID</code>以及<code>AppKey</code>这两个参数即可正常使用文章阅读量统计的功能了。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">控制台 =&gt; 创建应用 =&gt; 创建class [Counter,无限制]=&gt; 设置 =&gt; 应用Key [AppID,AppKey]</div></pre></td></tr></table></figure>
<p>复制<code>AppID</code>以及<code>AppKey</code>并在<code>主题配置文件</code>中我们相应的位置填入即可，正确配置之后文件内容像这个样子:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">leancloud_visitors:</div><div class="line">  <span class="built_in">enable</span>: <span class="literal">true</span></div><div class="line">  app_id: joaeuuc4hsqudUUwx4gIvGF6-gzGzoHsz</div><div class="line">  app_key: E9UJsJpw1omCHuS22PdSpKoh</div></pre></td></tr></table></figure>
<blockquote>
<p> 需要特别说明的是：记录文章访问量的唯一标识符是文章的发布日期以及文章的标题，因此请确保这两个数值组合的唯一性，如果你更改了这两个数值，会造成文章阅读数值的清零重计。</p>
</blockquote>
<h3 id="将阅读量改为热度（更个性）"><a href="#将阅读量改为热度（更个性）" class="headerlink" title="将阅读量改为热度（更个性）"></a>将阅读量改为热度（更个性）</h3><p>看到好多人的博客不是阅读次数（阅读量），而是xxx度，那么可以继续这样修改，首先在<code>Next</code>主题的<code>/themes/next/languages/zh-Hans</code>文件中查找”阅读次数“这几个字，可以看到，在<code>post</code>中的<code>visitors</code>被定义为“阅读次数”，把这里的“阅读次数”改为“热度”。</p>
<p>打开 <code>Next</code>主题文件夹中<code>layout/_macro/post.swig</code>，在这个文件里加上摄氏度的标志，在<code>&lt;span class=&quot;leancloud-visitors-count&quot;&gt;&lt;/span&gt;</code>下面增加一行<code>&lt;span&gt;℃&lt;/span&gt;</code>即可。</p>
<h3 id="不蒜子统计"><a href="#不蒜子统计" class="headerlink" title="不蒜子统计"></a>不蒜子统计</h3><ul>
<li><p>全局配置</p>
<p>  编辑<code>主题配置文件</code> 中的<code>busuanzi_count</code>的配置项。<br>  当<code>enable: true</code>时，代表开启全局开关。若<code>site_uv</code>、<code>site_pv</code>、<code>page_pv</code>的值均为false时，不蒜子仅作记录而不会在页面上显示。</p>
</li>
<li><p>站点UV配置</p>
<p>  <code>site_uv: true</code>时，代表在页面底部显示站点的UV值。<br>  <code>site_uv_header</code>和<code>site_uv_footer</code>为自定义样式配置，相关的值留空时将不显示，可以使用（带特效的）<code>font-awesome</code>。显示效果为<code>[site_uv_header]</code>UV值<code>[site_uv_footer]</code>。</p>
  <figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># 效果：本站访客数12345人次</span></div><div class="line">site_uv: <span class="literal">true</span></div><div class="line">site_uv_header: &lt;i class=<span class="string">"fa fa-user"</span>&gt;本站访客数&lt;/i&gt;</div><div class="line">site_uv_footer: 人次</div></pre></td></tr></table></figure>
</li>
<li><p>站点PV配置</p>
<p>  当<code>site_pv: true</code>时，代表在页面底部显示站点的PV值。<br>  <code>site_pv_heade</code>r和<code>site_pv_footer</code>为自定义样式配置，相关的值留空时将不显示，可以使用（带特效的）<code>font-awesome</code>。显示效果为<code>[site_pv_header]</code>PV值<code>[site_pv_footer]</code>。</p>
  <figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># 效果：本站总访问量12345次</span></div><div class="line">site_pv: <span class="literal">true</span></div><div class="line">site_pv_header: &lt;i class=<span class="string">"fa fa-eye"</span>&gt;本站总访问量&lt;/i&gt;</div><div class="line">site_pv_footer: 次</div></pre></td></tr></table></figure>
</li>
<li><p>单页PV配置</p>
<p>  当<code>page_pv: true</code>时，代表在文章页面的标题下显示该页面的PV值（阅读数）。<br>  <code>page_pv_header</code>和<code>page_pv_footer</code>为自定义样式配置，相关的值留空时将不显示，可以使用（带特效的）<code>font-awesome</code>。显示效果为<code>[page_pv_header]</code>PV值<code>[page_pv_footer]</code>。</p>
  <figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># 效果：本文总阅读量12345次</span></div><div class="line">page_pv: <span class="literal">true</span></div><div class="line">page_pv_header: &lt;i class=<span class="string">"fa fa-file-o"</span>&gt;本文总阅读量/热度&lt;/i&gt;</div><div class="line">page_pv_footer: 次/℃</div></pre></td></tr></table></figure>
<p>  单页PV配置可以和<code>LeanCloud</code>阅读次数选择其一。</p>
</li>
</ul>
<h3 id="添加-sitemap-插件"><a href="#添加-sitemap-插件" class="headerlink" title="添加 sitemap 插件"></a>添加 sitemap 插件</h3><p>谷歌与百度的站点地图，前者适用于其他搜索引擎，用来手动提交以增加收录。</p>
<ul>
<li><p>sitemap安装</p>
  <figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">npm install hexo-generator-baidu-sitemap --save</div><div class="line">npm install hexo-generator-sitemap --save</div></pre></td></tr></table></figure>
</li>
<li><p>设置<code>站点配置文件</code></p>
  <figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># hexo sitemap网站地图</span></div><div class="line">sitemap:</div><div class="line">  path: sitemap.xml</div><div class="line">baidusitemap:</div><div class="line">  path: baidusitemap.xml</div></pre></td></tr></table></figure>
<p>  配置成功后，<code>hexo</code>编译时会在<code>hexo</code>站点根目录生成<code>sitemap.xml</code>和<code>baidusitemap.xml</code>。其中<code>sitemap.xml</code>适合提交给谷歌搜素引擎，<code>baidusitemap.xml</code>适合提交百度搜索引擎。<br>  其次，在站点根目录下新建一个robots.txt文件，其中添加下面的一段代码（具体网站改为你自己的网址）：</p>
  <figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># hexo robots.txt</span></div><div class="line">User-agent: *</div><div class="line">Allow: /</div><div class="line">Allow: /archives/</div><div class="line">Disallow: /vendors/</div><div class="line">Disallow: /js/</div><div class="line">Disallow: /css/</div><div class="line">Disallow: /fonts/</div><div class="line">Disallow: /vendors/</div><div class="line">Disallow: /fancybox/</div><div class="line">Sitemap: http://www.joshuazou.cn/sitemap.xml</div><div class="line">Sitemap: https://www.joshuazou.cn/sitemap.xml</div></pre></td></tr></table></figure>
</li>
</ul>
<p>我们在百度里面搜索site:joshuazou.cn，发现没有我们的博客并没有被百度收录，也就是说你的博客别人可能会看不到，下面来解决这个问题：</p>
<p>进入<a href="http://zhanzhang.baidu.com/linksubmit/url" target="_blank" rel="external">链接提交</a>，然后<a href="http://zhanzhang.baidu.com/site/index" target="_blank" rel="external">验证网站所有权</a>，选择文件验证，下载<code>baidu_verify_qzE3XIJ4hj.html</code>文件到<code>source/</code>目录下面，修改<code>站点配置文件</code>。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">skip_render: </div><div class="line">  - README.md</div><div class="line">  - baidu_verify_qzE3XIJ4hj.html</div></pre></td></tr></table></figure>
<p>按照说明完成验证，在百度站长平台里面的站点管理里面看到是否验证成功。</p>
<p>上面进行步骤成功之后，进入站点信息-&gt;网页抓取-&gt;链接提交-&gt;详情，按照说明进行设置。<br>完成后等一段时间，在百度里面搜索site:joshuazou.cn，有记录说明是被收录了。</p>
<p>类似百度，通过HTML文件方式验证通过后，在站点里选择 抓取-&gt;站点地图里 添加/测试站点地图。<br>完成后等一段时间（大概一天时间）在Google里面搜索site:joshuazou.cn，就可以看到搜索结果了。</p>
<h3 id="页脚加入地图"><a href="#页脚加入地图" class="headerlink" title="页脚加入地图"></a>页脚加入地图</h3><p>在页脚加入百度地图和谷歌地图链接：</p>
<p>找到<code>\themes\next\layout\_partials\footer.swig</code>文件，百度和Google网站地图，上面已经安装了，这是插入到底栏的代码：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">&amp;nbsp;&amp;nbsp;|&amp;nbsp;&amp;nbsp;&lt;span&gt;&lt;a href=<span class="string">"/sitemap.xml"</span>&gt;Google网站地图&lt;/a&gt;&lt;/span&gt;</div><div class="line">&amp;nbsp;&amp;nbsp;|&amp;nbsp;&amp;nbsp;&lt;span&gt;&lt;a href=<span class="string">"/baidusitemap.xml"</span>&gt;百度网站地图&lt;/a&gt;&lt;/span&gt;</div></pre></td></tr></table></figure>
<h3 id="增加留言页"><a href="#增加留言页" class="headerlink" title="增加留言页"></a>增加留言页</h3><p>在你的站点文件夹，用Git Bash等运行下面这行代码：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">hexo new page <span class="string">"guestbook"</span></div></pre></td></tr></table></figure>
<p>找到<code>主题配置文件</code>，文件路径<code>\themes\next\_config.yml</code>，添加<code>guestbook</code>到<code>menu</code>中，如下:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">menu:</div><div class="line">  home: /</div><div class="line">  <span class="comment">#categories: /categories</span></div><div class="line">  about: /about</div><div class="line">  archives: /archives</div><div class="line">  <span class="comment"># tags: /tags</span></div><div class="line">  <span class="comment">#commonweal: /404.html</span></div><div class="line">  guestbook: /guestbook</div></pre></td></tr></table></figure>
<p>并将图标添加到<code>menu_icons</code>：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">menu_icons:</div><div class="line">  <span class="built_in">enable</span>: <span class="literal">true</span></div><div class="line">  <span class="comment">#KeyMapsToMenuItemKey: NameOfTheIconFromFontAwesome</span></div><div class="line">  guestbook: file-text</div></pre></td></tr></table></figure>
<p>找到你<code>Next</code>主题<code>zh-Hans.yml</code>文件，文件路径<code>\themes\next\languages\zh-Hans.yml</code>，添加<code>guestbook: 留言板</code>到<code>menu</code>中，如下:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">menu:</div><div class="line">  home: 首页</div><div class="line">  archives: 归档</div><div class="line">  categories: 分类</div><div class="line">  tags: 标签</div><div class="line">  about: 关于</div><div class="line">  search: 搜索</div><div class="line">  schedule: 日程表</div><div class="line">  sitemap: 站点地图</div><div class="line">  commonweal: 公益404</div><div class="line">  guestbook: 留言</div></pre></td></tr></table></figure>
<h3 id="添加友言评论系统"><a href="#添加友言评论系统" class="headerlink" title="添加友言评论系统"></a>添加友言评论系统</h3><p>注册<a href="http://www.uyan.cc" target="_blank" rel="external">友言</a>得到自己的<code>uid</code>，并在<code>主题配置文件</code>里设置：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">youyan_uid: your-uid</div></pre></td></tr></table></figure>
<h3 id="文章配图"><a href="#文章配图" class="headerlink" title="文章配图"></a>文章配图</h3><p>在标题和摘要中间，插进一张<code>Logo</code>图片，而当点击进入后，就不会再显示这个<code>logo</code>图片了。原文地址：Hexo主题的数据封装，样式渲染和扩展实例。</p>
<h4 id="css样式"><a href="#css样式" class="headerlink" title="css样式"></a>css样式</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">hexo/themes/next/<span class="built_in">source</span>/css/: 是next主题的样式文件，决定主题的外观。</div><div class="line">hexo/themes/next/<span class="built_in">source</span>/css/main.styl：汇总css文件夹中所有的样式。</div><div class="line">hexo/themes/next/<span class="built_in">source</span>/css/ _custom/custom.styl：是空的，专门让开发者扩展。</div></pre></td></tr></table></figure>
<p>需要在custom.styl里为图片设计一个专用容器。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">//图片外部的容器方框</div><div class="line">.out-img-topic &#123;</div><div class="line">  display: block;</div><div class="line">  max-height:300px;</div><div class="line">  margin-bottom: 24px;</div><div class="line">  overflow: hidden;</div><div class="line">&#125;</div><div class="line">//图片</div><div class="line">img.img-topic &#123;</div><div class="line">  display: block ;</div><div class="line">  margin-left: .7em;</div><div class="line">  margin-right: .7em;</div><div class="line">  padding: 0;</div><div class="line">  <span class="built_in">float</span>: right;</div><div class="line">  clear: right;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>这里图片外部的容器用来限制图片显示的大小，最大的高度为<code>300px</code>，</p>
<p><code>overflow: hidden</code>：让多余部分隐藏。</p>
<p><code>margin-bottom: 24px</code>：确保图片和文章摘要部分空出一定空间。</p>
<h4 id="渲染"><a href="#渲染" class="headerlink" title="渲染"></a>渲染</h4><p>修改 <code>/themes/next/layout/ _macro/post.swig</code> ，在 <code>if is_index</code> 与 <code>if post.description and theme.excerpt_description</code> 之间添加以下代码</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">&#123;% <span class="keyword">if</span> post.images %&#125;</div><div class="line">    &lt;div class=<span class="string">"out-img-topic"</span>&gt;</div><div class="line">        &lt;img src=&#123;&#123; post.images &#125;&#125; class=<span class="string">"img-topic"</span>&gt;</div><div class="line">    &lt;/div&gt;</div><div class="line">&#123;% endif %&#125;</div></pre></td></tr></table></figure>
<h4 id="模板"><a href="#模板" class="headerlink" title="模板"></a>模板</h4><p>在 <code>/scaffolds/post.md</code> ，加一个<code>images</code>字段，那么在创建新的文章时，填的图片地址就会一直作为文章的一个属性被传递。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">title: &#123;&#123; title &#125;&#125;</div><div class="line">date: &#123;&#123; date &#125;&#125;</div><div class="line">categories:</div><div class="line">tags:</div><div class="line">images:</div></pre></td></tr></table></figure>
<h2 id="部署博客"><a href="#部署博客" class="headerlink" title="部署博客"></a>部署博客</h2><h3 id="个人域名设置"><a href="#个人域名设置" class="headerlink" title="个人域名设置"></a>个人域名设置</h3><p>国内国外有很多的域名供应商，选择一个好的机构购买域名，会为自己的站点配置节约很多时间，也不会因为域名的出错，导致影响百度对我们个人博客的收录。近几年来，国内做的比较好的域名供应商有阿里的万网。我就是在阿里的万网购买的域名。通过查找，找到自己喜欢的域名。</p>
<ul>
<li><p>域名解析</p>
<p>  登录进入万网的域名控制台，点击”域名和网站”中的”云DNS”</p>
</li>
</ul>
]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;前言&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;最近用 Python 的 Pelican 搭建了自己的静态博客，&lt;a href=&quot;https://zoujoshua.github.io&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;效果预览&lt;/a&gt;（现已换成hexokinase））。在用 Pelican 搭建博客的过程中几乎 Pelican 支持的主题都试过，都没什么让自己满意的，最后才勉强选了个看的过去的主题，但是当我看到 Hexo 搭建的博客系统的时候，瞬间觉得 Hexo 的 NexT 主题简洁又大方，很喜欢，所以打算继续折腾下，顺便简单了解下 Node.js 的静态博客框架。&lt;br&gt;
    
    </summary>
    
      <category term="Hexo" scheme="http://joshuazou.cn/categories/Hexo/"/>
    
    
      <category term="blog" scheme="http://joshuazou.cn/tags/blog/"/>
    
      <category term="Node.js" scheme="http://joshuazou.cn/tags/Node-js/"/>
    
  </entry>
  
  <entry>
    <title>将本地项目上传到Github</title>
    <link href="http://joshuazou.cn/2017/07/17/%E5%B0%86%E6%9C%AC%E5%9C%B0%E9%A1%B9%E7%9B%AE%E4%B8%8A%E4%BC%A0%E5%88%B0Github/"/>
    <id>http://joshuazou.cn/2017/07/17/将本地项目上传到Github/</id>
    <published>2017-07-17T02:00:00.000Z</published>
    <updated>2017-07-29T08:42:13.694Z</updated>
    
    <content type="html"><![CDATA[<blockquote>
<p><strong>前言</strong></p>
<p>将自己新建的本地项目上传到 Github ，包括本地 Git 仓库设置及远程仓库 Github 设置。<br>本次操作需要用到管理工具<code>Git</code>，<a href="https://git-scm.com/" target="_blank" rel="external">点击下载</a>。</p>
</blockquote>
<a id="more"></a>
<h2 id="本地Git仓库设置"><a href="#本地Git仓库设置" class="headerlink" title="本地Git仓库设置"></a>本地Git仓库设置</h2><ol>
<li><p>创建Git配置文件。</p>
<p> 通过命令<code>git init</code>把即将要上传的本地项目文件夹变成Git可管理的仓库，即创建该项目的本地版本库。你会发现你的文件下生成一个<code>.git</code>文件夹，默认是隐藏文件。可通过<code>git status</code>来查看你当前的状态。Git安装好之后，打开所要上传的项目文件夹，鼠标右键点击windows系统下选择<code>Git Bash Here</code>。</p>
 <figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$ git init</div><div class="line">$ git status</div></pre></td></tr></table></figure>
<p> <img src="https://i.imgur.com/IL1rdhx.png" alt="图片1"></p>
</li>
<li><p>通过<code>git add .</code>（.和add之间有空格）将当前所有文件添加到仓库上，仍可通过<code>git status</code>来查看你当前的状态。</p>
 <figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$ git add .</div><div class="line">$ git status</div></pre></td></tr></table></figure>
<p> <img src="https://i.imgur.com/UmgDwI5.png" alt="图片2"></p>
</li>
<li><p>用<code>git commit</code>把项目提交到仓库，<code>-m</code>后面引号里面是本次提交的注释内容，这个可以不写，但最好写上，不然会报错，详情自行Google。</p>
 <figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ git commit -m <span class="string">"commit blog"</span></div></pre></td></tr></table></figure>
<p> <img src="https://i.imgur.com/CjcobJ0.png" alt="图片3"></p>
<p> 本地Git仓库这边的工作做完了，下面就到了连接远程仓库（也就是连接Github）</p>
</li>
</ol>
<h2 id="远程仓库Github设置"><a href="#远程仓库Github设置" class="headerlink" title="远程仓库Github设置"></a>远程仓库Github设置</h2><p>本地Git仓库和Github仓库之间的传输是通过SSH加密的，所以连接时需要设置一下，先在本地生成一<code>.ssh</code>。</p>
<ol>
<li><p>创建SSH KEY，先查看本地是否有.ssh文件，有的话删掉。</p>
 <figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ <span class="built_in">cd</span> ~/.ssh</div></pre></td></tr></table></figure>
</li>
<li><p>输入命令，生成.ssh，写你自己的邮箱。</p>
 <figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ ssh-keygen -t rsa -C <span class="string">"your email@.com"</span></div></pre></td></tr></table></figure>
<p> 一直回车就可以，这样就表示成功了，会在C盘的用户目录的根目录下生成一个<code>.ssh</code>文件，如果找不到，可以搜索一下，文件下会有<code>id_rsa</code>与<code>id_rsa.pug</code>两个文件。</p>
<p> <img src="https://i.imgur.com/1NknRPR.png" alt="图片4"></p>
<p> 本地目录下生成的文件：</p>
<p> <img src="https://i.imgur.com/YAGYPRi.png" alt="图片5"></p>
</li>
<li><p>为了避免与Github创建连接时出错，可以新建一个config文件，将以下代码复制进去：</p>
 <figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">Host github.com</div><div class="line">User git</div><div class="line">Hostname ssh.github.com</div><div class="line">PreferredAuthentications publickey</div><div class="line">IdentityFile ~/.ssh/id_rsa</div><div class="line">Port 443</div></pre></td></tr></table></figure>
</li>
<li><p>登录Github，找到右上角的图标，打开点进里面的<code>Settings</code>，再选中里面的<code>SSH and GPG KEYS</code>，点击右上角的<code>New SSH key</code>，然后<code>Title</code>里面随便填，再把刚才<code>id_rsa.pub</code>里面的内容复制到<code>Title</code>下面的<code>Key</code>内容框里面，最后点击<code>Add SSH key</code>，这样就完成了SSH Key的加密。</p>
<p> <img src="https://i.imgur.com/AxCcxg3.png" alt="图片6"></p>
</li>
<li><p>测试连接是否成功，下图表示访问成功。</p>
 <figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ ssh -t git@github.com</div></pre></td></tr></table></figure>
<p> <img src="https://i.imgur.com/DXkZk93.png" alt="图片7"></p>
</li>
<li><p>在Github上创建一个Git仓库。</p>
<p> <em>此时如果你勾选了<code>Initialize this repository with a README</code>（就是创建仓库的时候自动给你创建一个README文件），那么到了第8步你将本地仓库内容推送到远程仓库的时候就会报一个failed to push some refs to …的错误,这是由于你新创建的那个仓库里面的README文件不在本地仓库目录中，解决方法见第8步。</em></p>
<p> <img src="https://i.imgur.com/D71K5mn.png" alt="图片8"></p>
</li>
<li><p>Github 和 Git 的关联。</p>
<p> Github上创建好Git仓库之后我们就可以和本地仓库进行关联了，注意origin后面加的是你Github上创建好的仓库的地址。根据创建好的Git仓库页面的提示，可以在本地blog仓库的命令行输入。</p>
 <figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ git remote add origin https://github.com/ZouJoshua/pelican-blog.git</div></pre></td></tr></table></figure>
<p> <img src="https://i.imgur.com/4z7h5BP.png" alt="图片9"></p>
<p> 解决办法：</p>
 <figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">先输入：$ git remote rm origin</div><div class="line">再输入：$ git remote add origin https://github.com/ZouJoshua/pelican-blog.git</div></pre></td></tr></table></figure>
</li>
<li><p>关联完成之后把本地库的所有内容推送到远程仓库（也就是Github）上</p>
 <figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ git push -u origin master</div></pre></td></tr></table></figure>
<p> 由于新建的远程仓库是空的，所以要加上<code>-u</code>这个参数，等远程仓库里面有了内容之后，下次再从本地库上传内容的时候只需下面这样就可以了。</p>
 <figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ git push origin master</div></pre></td></tr></table></figure>
<p> 此时，推送时，会出现如下错误：</p>
<p> <img src="https://i.imgur.com/9nh2vZb.png" alt="图片10"></p>
<p> 这是由于新创建的那个仓库里面的README文件不在本地仓库目录中，这时我们可以通过以下命令先将内容合并：</p>
 <figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ git pull --rebase origin master</div></pre></td></tr></table></figure>
<p> 然后再<code>git push</code>，登录Github查看，就会将自己的项目上传到Github。</p>
</li>
</ol>
]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;前言&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;将自己新建的本地项目上传到 Github ，包括本地 Git 仓库设置及远程仓库 Github 设置。&lt;br&gt;本次操作需要用到管理工具&lt;code&gt;Git&lt;/code&gt;，&lt;a href=&quot;https://git-scm.com/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;点击下载&lt;/a&gt;。&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="Git" scheme="http://joshuazou.cn/categories/Git/"/>
    
    
      <category term="blog" scheme="http://joshuazou.cn/tags/blog/"/>
    
      <category term="git" scheme="http://joshuazou.cn/tags/git/"/>
    
      <category term="linux" scheme="http://joshuazou.cn/tags/linux/"/>
    
  </entry>
  
  <entry>
    <title>采用Pelican+Github搭建数据科学博客</title>
    <link href="http://joshuazou.cn/2017/07/07/%E9%87%87%E7%94%A8Pelican+Github%E6%90%AD%E5%BB%BA%E6%95%B0%E6%8D%AE%E7%A7%91%E5%AD%A6%E5%8D%9A%E5%AE%A2/"/>
    <id>http://joshuazou.cn/2017/07/07/采用Pelican+Github搭建数据科学博客/</id>
    <published>2017-07-07T06:00:00.000Z</published>
    <updated>2017-07-28T09:03:15.803Z</updated>
    
    <content type="html"><![CDATA[<blockquote>
<p><strong>前言</strong></p>
<p>在今年的个人计划中，想要搭建一个数据挖掘的平台，主要目的是，希望通过这件事能让自己对数据挖掘、机器学习的各种算法都很熟练，同时对搭建这样的平台框架有个基础的实践与认知。因此，就想在做这件事的时候能将自己趟过的坑记录整理下来，帮助自己从技术上提高。所以，首先得搭建一个自己的博客。虽然，目前网上有很多现成的博客系统，但是自己总觉得自定义的才是最炫酷的（其实并没有什么卵用），希望能一直坚持下来吧。本文采用 Python 的 Pelican 库搭建数据科学博客，并将 blog 挂在 Github Pages 上。</p>
</blockquote>
<a id="more"></a>
<h2 id="环境"><a href="#环境" class="headerlink" title="环境"></a>环境</h2><p>Pelican是一套开源的使用Python编写的博客静态生成, 可以添加文章和和创建页面, 可以使用<code>MarkDown</code>，<code>reStructuredText</code>和<code>AsiiDoc</code>的格式来书写, 同时使用 Disqus评论系统, 支持 RSS和Atom输出, 插件, 主题, 代码高亮等功能, 采用Jajin2模板引擎, 可以很容易的更改模板，也可以很容易的把文章部署到 GitHub Pages 让别人阅读，欢迎进入我的<a href="https://zoujoshua.github.io" target="_blank" rel="external">Blog 站点</a>进行效果预览。</p>
<h3 id="本地环境"><a href="#本地环境" class="headerlink" title="本地环境"></a>本地环境</h3><p>windows 10 64位/ubuntu 16.04（笔记本为win10，台式机为ubuntu系统）</p>
<p>Python 3.5</p>
<h3 id="服务器环境"><a href="#服务器环境" class="headerlink" title="服务器环境"></a>服务器环境</h3><p>Github Pages（把 Github 的仓库当成服务器）</p>
<h3 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h3><h4 id="安装Python"><a href="#安装Python" class="headerlink" title="安装Python"></a>安装Python</h4><p>如果你还没有安装 Python ，建议使用 Python 3.5，可以到官网<a href="http://www.python.org/" target="_blank" rel="external">安装</a>。</p>
<h4 id="安装Pelican"><a href="#安装Pelican" class="headerlink" title="安装Pelican"></a>安装Pelican</h4><p>建议在 Virtualenv （Python虚拟环境）下使用，创建并激活一个<a href="http://docs.python-guide.org/en/latest/dev/virtualenvs/" target="_blank" rel="external">虚拟环境</a>。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">virtualenvs blogs 		<span class="comment"># 创建blog的虚拟环境</span></div><div class="line"><span class="built_in">cd</span> blogs/scripts</div><div class="line">pip pelican</div><div class="line">activate				<span class="comment"># 激活虚拟环境</span></div><div class="line">mkdir blog 				<span class="comment"># 创建blog目录</span></div></pre></td></tr></table></figure>
<h4 id="安装Markdown"><a href="#安装Markdown" class="headerlink" title="安装Markdown"></a>安装Markdown</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">cd</span> blogs/scripts</div><div class="line">pip install markdown</div></pre></td></tr></table></figure>
<h2 id="博客框架"><a href="#博客框架" class="headerlink" title="博客框架"></a>博客框架</h2><p>通过初始化 Pelican 设置生成一个基本的博客框架，在创建的文件夹下运行 pelican-quickstart 时，会开始一个交互式博客安装过程。根据提示一步一步输入相应的配置项，对于不了解 pelican 框架或第一次安装的情况下，大多数问题直接点击<code>Enter</code>接受默认即可，后续可以在<code>pelicanconf.py</code>文件里更改配置，个人<code>pelicanconf.py</code><a href="https://github.com/ZouJoshua/pelican-blog/blob/master/pelicanconf.py" target="_blank" rel="external">详细配置</a>。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line">(blogs) D:\Python\envs\blogs\blog&gt;pelican-quickstart</div><div class="line">Welcome to pelican-quickstart v3.7.1.</div><div class="line"></div><div class="line">This script will <span class="built_in">help</span> you create a new Pelican-based website.</div><div class="line">Please answer the following questions so this script can generate the files needed by Pelican.</div><div class="line"></div><div class="line">&gt; Where <span class="keyword">do</span> you want to create your new web site? [.]</div><div class="line">&gt; What will be the title of this web site? Joshua<span class="string">'s Blog</span></div><div class="line">&gt; Who will be the author of this web site? Joshua Zou</div><div class="line">&gt; What will be the default language of this web site? [Chinese (Simplified)]</div><div class="line">&gt; Do you want to specify a URL prefix? e.g., http://example.com   (Y/n) n</div><div class="line">&gt; Do you want to enable article pagination? (Y/n)</div><div class="line">&gt; How many articles per page do you want? [10]</div><div class="line">&gt; What is your time zone? [Europe/Paris] Asia/Shanghai</div><div class="line">&gt; Do you want to generate a Fabfile/Makefile to automate generation and publishing? (Y/n) </div><div class="line">&gt; Do you want an auto-reload &amp; simpleHTTP script to assist with theme and site development? (Y/n)</div><div class="line">&gt; Do you want to upload your website using FTP? (y/N)</div><div class="line">&gt; Do you want to upload your website using SSH? (y/N)</div><div class="line">&gt; Do you want to upload your website using Dropbox? (y/N)</div><div class="line">&gt; Do you want to upload your website using S3? (y/N)</div><div class="line">&gt; Do you want to upload your website using Rackspace Cloud Files? (y/N)</div><div class="line">&gt; Do you want to upload your website using GitHub Pages? (y/N)</div><div class="line">Done. Your new project is available at D:\Python\envs\blogs\blog</div></pre></td></tr></table></figure>
<p>完成后会在相应的目录里生成如下基础框架结构及文件：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">blog/</div><div class="line">├── content            <span class="comment"># 存储Blog文件的目录，这个目录及子目录下的所有md和rst文件都会被转成html</span></div><div class="line">│   └── (pages)        <span class="comment"># Blog文件，如*.md、*.ipynb等文件</span></div><div class="line">├── output             <span class="comment"># 将blog文件转化成相应的html及相应文件的存放目录</span></div><div class="line">├── develop_server.sh  <span class="comment"># pelican简易web服务器操作文件</span></div><div class="line">├── Makefile           <span class="comment"># 方便管理博客的Make命令文件</span></div><div class="line">├── fabfile.py         <span class="comment"># 与make类似，可用fab publish，fab server命令</span></div><div class="line">├── pelicanconf.py     <span class="comment"># 本地开发时的配置文件</span></div><div class="line">└── publishconf.py     <span class="comment"># 发布时的配置文件，可删除</span></div></pre></td></tr></table></figure>
<p>后续配置完整后，框架如下：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line">blog/</div><div class="line">|--content 					<span class="comment"># 存储Blog文件的目录，这个目录及子目录下的所有md和rst文件都会被转成html</span></div><div class="line">|  └──(pages)				<span class="comment"># Blog文件，如*.md、*.ipynb等文件</span></div><div class="line">|--output 					<span class="comment"># 将blog文件转化成相应的html及相应文件的存放目录</span></div><div class="line">   └──.git					<span class="comment"># 执行git init之后，产生的远程仓库目录</span></div><div class="line">|  └──author				<span class="comment"># 作者目录，存放pelicanconf.py中指定的Author文件</span></div><div class="line">|  └──category				<span class="comment"># 分类目录，默认目录文件为misc，在编辑器中指定</span></div><div class="line">|  └──feeds					<span class="comment"># 目录，pelicanconf.py中FEED_RSS指定的XML文件</span></div><div class="line">|  └──articles				<span class="comment"># 目录，pelicanconf.py中ARTICLE_URL指定格式分类文件</span></div><div class="line">|  └──tag					<span class="comment"># 目录，存放编辑器开头所指定的Tag</span></div><div class="line">|  └──theme					<span class="comment"># 目录，存放博客模板文件</span></div><div class="line">|  └──archives.html,authors.html,categories.html,index.html, tags.html</div><div class="line">|——pelican-plugins			<span class="comment"># 目录，pelican插件</span></div><div class="line">|——pelican-themes			<span class="comment"># 目录，pelican主题</span></div><div class="line">|——develop_server.sh		<span class="comment"># pelican简易web服务器操作文件</span></div><div class="line">|——Makefile					<span class="comment"># make 命令文件</span></div><div class="line">|——fabfile.py				<span class="comment"># 与make类似，可用fab publish, fab server命令</span></div><div class="line">|——pelicanconf.py			<span class="comment"># 本地开发时的配置文件</span></div><div class="line">|——publishconf.py			<span class="comment"># 发布时的配置文件，可删除</span></div><div class="line">|——.gitignore				<span class="comment"># 上传Git时排除指定类型文件</span></div></pre></td></tr></table></figure>
<h2 id="主题设置"><a href="#主题设置" class="headerlink" title="主题设置"></a>主题设置</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">git <span class="built_in">clone</span> https://github.com/getpelican/pelican-themes.git <span class="comment"># 获取全部主题</span></div><div class="line"><span class="built_in">cd</span> pelican-themes</div><div class="line">pelican-themes -i BT3-Flat  <span class="comment">#可换成你自己的theme</span></div></pre></td></tr></table></figure>
<p>因为个人喜好不同，我选择了 BT3-Flat 这个主题，但是由于原主题部分文件的问题，我自己修改了模板同时在<code>pelicanconf.py</code>文件中修改</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">THEME = <span class="string">'./pelican-themes/BT3-Flat'</span>      <span class="comment"># 设置的主题所在根目录下的路径</span></div></pre></td></tr></table></figure>
<h2 id="Plugin设置"><a href="#Plugin设置" class="headerlink" title="Plugin设置"></a>Plugin设置</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">git <span class="built_in">clone</span> https://github.com/getpelican/pelican-plugins.git    <span class="comment"># 将所支持的插件clone到本地,方便使用</span></div></pre></td></tr></table></figure>
<h3 id="Jupyter插件"><a href="#Jupyter插件" class="headerlink" title="Jupyter插件"></a>Jupyter插件</h3><p>Pelican默认情况下并不支持使用jupyter写博客 – 我们需要安装插件来进行支持。我们将把插件以git submodule的方式进行安装以便于管理。</p>
<ul>
<li><p>执行<code>git init</code>将当前文件夹初始化为一个git仓库。</p>
</li>
<li><p>创建<code>plugins</code>文件夹</p>
</li>
<li>在plugins文件夹中执行<code>git submodule add https://github.com/danielfrg/pelican-ipynb.git plugins/ipynb</code>来添加插件</li>
</ul>
<p>为了启动插件，我们需要修改<code>pelicanconf.py</code>并将以下内容添加到尾部：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">MARKUP = (<span class="string">'md'</span>, <span class="string">'ipynb'</span>)</div><div class="line">PLUGIN_PATHS = [ <span class="string">'./plugins'</span> ]  <span class="comment"># 如果像原文直接PLUGIN_PATH = `./plugins`而不使用列表会报warning</span></div><div class="line">PLUGINS = [<span class="string">'ipynb.markup'</span>]</div></pre></td></tr></table></figure>
<p>后期在本地测试时发现，加上Jupyter后，部分功能未显示，所以暂时没把Jupyter功能放入进去，所以目前文档只支持Markdown。</p>
<h3 id="JIATHIS社会化分享功能"><a href="#JIATHIS社会化分享功能" class="headerlink" title="JIATHIS社会化分享功能"></a>JIATHIS社会化分享功能</h3><p>在<code>pelicanconf.py</code>文件中配置：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">JIATHIS = True</div></pre></td></tr></table></figure>
<h3 id="Blog-Search"><a href="#Blog-Search" class="headerlink" title="Blog Search"></a>Blog Search</h3><p>在 <a href="https://swiftype.com/users/sign_up" target="_blank" rel="external">Swiftype</a>注册账号，得到输入自己的blog网址得到 API ，然后在 <code>pelicanconf.py</code> 中添加</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">SWIFTYPE = <span class="string">'swiftype_api'</span></div></pre></td></tr></table></figure>
<h3 id="Disqus第三方评论"><a href="#Disqus第三方评论" class="headerlink" title="Disqus第三方评论"></a>Disqus第三方评论</h3><p>开启个人博客的原因在于分享知识，分享就需要交流，评论模块当然少不了。第三方评论系统有很多，这里选用很流行的Disqus作为第三方评论系统，在Disqus上申请帐号，按照流程Disqus会分配给你站点的Shortname，记牢Shortname，如果忘了请进入admin/settings中查看。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">Site name: &#123;your git account name&#125;.github.io</div><div class="line">Admin URL: &#123;Shortname&#125;.disqus.com</div></pre></td></tr></table></figure>
<p>然后同理，在<code>pelicanconf.py</code>添加：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">DISQUS_SITENAME = Shortname</div></pre></td></tr></table></figure>
<p>由于DISQUS是国外的第三方应用，所以如果在国内想看到得FQ，后期争取支持国内友言之类的应用。</p>
<h2 id="BlogRoll和Social设置"><a href="#BlogRoll和Social设置" class="headerlink" title="BlogRoll和Social设置"></a>BlogRoll和Social设置</h2><p>设置一些Blog链接，通过设置LINKS实现,可链接到别人的blog，或者自己的社交圈。在<code>pelicanconf.py</code>文件中配置：</p>
<h3 id="Blogroll"><a href="#Blogroll" class="headerlink" title="Blogroll"></a>Blogroll</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">LINKS = ((<span class="string">'Python.org'</span>, <span class="string">'http://python.org/'</span>),</div><div class="line">     (<span class="string">'Jinja2'</span>, <span class="string">'http://jinja.pocoo.org/'</span>),)</div></pre></td></tr></table></figure>
<h3 id="Social-widget"><a href="#Social-widget" class="headerlink" title="Social widget"></a>Social widget</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">SOCIAL = ((<span class="string">'weibo'</span>,<span class="string">'http://www.weibo.com/233499456'</span>),</div><div class="line">	  (<span class="string">'envelope'</span>,<span class="string">'mailto:joshua_zou@163.com'</span>),</div><div class="line">      (<span class="string">'twitter'</span>, <span class="string">'https://twitter.com/joshua_zou'</span>),</div><div class="line">      (<span class="string">'facebook'</span>,<span class="string">'https://www.facebook.com/joshua.zou.127'</span>),</div><div class="line">      (<span class="string">'linkedin'</span>, <span class="string">'https://www.linkedin.com/in/%E5%B8%85-%E9%82%B9-736390135/'</span>),</div><div class="line">      (<span class="string">'github'</span>,<span class="string">'https://github.com/ZouJoshua'</span>))</div></pre></td></tr></table></figure>
<h3 id="Feed设置"><a href="#Feed设置" class="headerlink" title="Feed设置"></a>Feed设置</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">FEED_RSS = <span class="string">"feeds/all.rss.xml"</span> </div><div class="line">CATEGORY_FEED_RSS=<span class="string">"feeds/%s.rss.xml"</span>    <span class="comment">#为分类添加Feed</span></div></pre></td></tr></table></figure>
<h2 id="撰写并发布第一篇blog"><a href="#撰写并发布第一篇blog" class="headerlink" title="撰写并发布第一篇blog"></a>撰写并发布第一篇blog</h2><p>插件配置等都完成后，就可以开始书写第一篇Blog了。</p>
<ul>
<li>创建一个Markdown文件，书写自己想记录的blog内容。</li>
<li>在Markdown文件开头加入文档的头信息。</li>
<li>把书写完成的Markdown文件复制到<code>content</code>目录下。</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">Title: Pelican搭建博客        <span class="comment"># blog的标题</span></div><div class="line">Author: Joshua				 <span class="comment"># blog作者名字</span></div><div class="line">Date: 2017/7/7 14:02:40 	 <span class="comment"># blog发布日期</span></div><div class="line">Category: Pelican			 <span class="comment"># blog分类</span></div><div class="line">Tags: pelican，python，blogs <span class="comment"># blog的标签</span></div><div class="line">Slug: pelican-blog			 <span class="comment"># blog在服务器上的路径，是文档的唯一标识，生成html时直接用这个值做html的文件名，个人采用的是当前的时间戳 </span></div><div class="line">Summary: My first post,<span class="built_in">read</span> it to find out.  <span class="comment"># blog的摘要</span></div></pre></td></tr></table></figure>
<h3 id="将完成的-Markdown-生成-HTML"><a href="#将完成的-Markdown-生成-HTML" class="headerlink" title="将完成的 Markdown 生成 HTML"></a>将完成的 Markdown 生成 HTML</h3><p>在blog目录下运行命令。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">pelican content				<span class="comment"># 将content目录下的markdown文件生成html文件，输出到output文件里</span></div><div class="line"><span class="built_in">cd</span> output</div><div class="line">python -m http.server		<span class="comment"># 启动本地服务器预览blog</span></div></pre></td></tr></table></figure>
<p>在浏览器里访问 <code>localhost:8000</code> 来预览你的博客。</p>
<h3 id="发布博客站点的三种方法"><a href="#发布博客站点的三种方法" class="headerlink" title="发布博客站点的三种方法"></a>发布博客站点的三种方法</h3><p><strong>Pelican命令</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">pelican content -s publishconf.py</div></pre></td></tr></table></figure>
<p><strong>Fabric</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">pip install fabric</div><div class="line">fab build</div><div class="line">fab regenerate</div><div class="line">fab serve</div><div class="line">fab publish</div></pre></td></tr></table></figure>
<p><strong>Make</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">make html</div><div class="line">make regenerate</div><div class="line">make serve</div><div class="line">make devserver</div><div class="line">./develop_server.sh stop</div></pre></td></tr></table></figure>
<p>make 命令不是 Windows 系统自带的dos命令，需要安装，<a href="http://www.equation.com/servlet/equation.cmd?fa=make" target="_blank" rel="external">点此下载</a>，根据自己电脑选择32位或64位。安装完成后，须将安装路径添加到系统环境变量。</p>
<p>个人常选用 pelican 命令及 make 命令组合将新生成的 html 文件发布到 Github Pages 。</p>
<h3 id="GitHub-Pages的创建和-Git-本地仓库配置"><a href="#GitHub-Pages的创建和-Git-本地仓库配置" class="headerlink" title="GitHub Pages的创建和 Git 本地仓库配置"></a>GitHub Pages的创建和 Git 本地仓库配置</h3><p>要将 blog 部署到 Github 上，必须在本地建立一个 Git 仓库，同时必须确保在 Github server 端有远程仓库，名字一般为 <code>username.github.io</code> 。</p>
<p>GitHub Pages 是 GitHub 的一项功能，允许你快速部署静态网站，让所有人都可以通过特定 URL 访问。为了完成它的配置，我们需要：</p>
<ul>
<li>注册一个 GitHub 帐号，如果你还没有的话。</li>
<li>创建一个叫 username.github.io 的仓库，这里 username 是你的 GitHub 用户名。<a href="https://help.github.com/articles/create-a-repo/" target="_blank" rel="external">这里</a>有更详细的说明。</li>
</ul>
<p>本部分 Git 本地仓库的配置，<a href="https://zoujoshua.github.io/articles/1500367116/" target="_blank" rel="external">可参考此博文</a>。</p>
<p>创建一个叫做 <code>.gitignore</code> 的文件，并添加入这个<a href="https://github.com/github/gitignore/blob/master/Python.gitignore" target="_blank" rel="external">文件</a>的内容。最终我们将会把文件提交到 Git ，<code>.gitignore</code>将会排除指定类型的文件。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">cd</span> output</div><div class="line">git init         <span class="comment"># 产生一个.git文件夹</span></div><div class="line">git remote add origin https://github.com/****/****.github.io.git    <span class="comment">#将远程仓库配置到本地</span></div><div class="line">git add .</div><div class="line">git commit -m <span class="string">"commit blog"</span></div><div class="line">git push -u origin master</div></pre></td></tr></table></figure>
<p>对于后期的更新，如果需要修改远程仓库，可以选用下面命令之一，先将远程仓库配置到本地，然后进入本地远程仓库目录进行修改，最终提交。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">git <span class="built_in">clone</span> https://github.com/****/****.github.io.git        <span class="comment">#将远程仓库克隆到本地</span></div><div class="line"><span class="built_in">cd</span> xxx(<span class="built_in">clone</span>到本地的仓库路径）</div><div class="line">git rm -rf xxx 						<span class="comment"># 删除文件夹</span></div><div class="line">git commit -m <span class="string">"Delete some files."</span>  <span class="comment"># 提交修改</span></div><div class="line">git push origin xxx					<span class="comment"># 将修改提交到远程仓库的分支或主支</span></div></pre></td></tr></table></figure>
<h3 id="设置一键上传部署到-Github"><a href="#设置一键上传部署到-Github" class="headerlink" title="设置一键上传部署到 Github"></a>设置一键上传部署到 Github</h3><p>打开根目录下的Makefile文件，修改以下三个地方：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">OUTPUTDIR=$(BASEDIR)/output/    <span class="comment">#本地博客仓库路径</span></div><div class="line">publish:    </div><div class="line">$(PELICAN) $(INPUTDIR) -o $(OUTPUTDIR) -s $(CONFFILE) $(PELICANOPTS)    <span class="comment">#可修改OUTPUTDIR,发布的blog站点的输出路径</span></div><div class="line">github: publish    </div><div class="line"><span class="built_in">cd</span> OUTPUTDIR ; git add . ;  git commit -am <span class="string">'your comments'</span> ; git push</div></pre></td></tr></table></figure>
<p>设置完后，以后写完文章就可以通过在blog根目录下执行<code>make github</code>进行一键部署了。</p>
<p>可在Makefile文件中增加如下命令，有新文章要发布时可用 <code>make upload</code>一键更新到 Github 上。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">upload:</div><div class="line">	<span class="built_in">cd</span> $(OUTPUTDIR) &amp;&amp; git add -A &amp;&amp; git commit -am <span class="string">"update blog"</span> &amp;&amp; git push origin master</div></pre></td></tr></table></figure>
<p>其实，命令文章的更新上传本质还是用 Git 命令的，只不过 make 命令可以将 Git 命令整合后一键操作，自然比一个一个命令去上传更新来的快。</p>
<h2 id="问题"><a href="#问题" class="headerlink" title="问题"></a>问题</h2><p>在博客搭建的过程中，趟过的一些坑。</p>
<ol>
<li>因本人关注数据挖掘、数据分析、算法方面的内容，所以希望用Jupyter Notebook 及 Markdown 搭建一个数据科学博客，但是所选用的这个主题对Jupyter Notebook的插件支持并不好，同时用两种文件方式的时候，整个主题的部分功能显示不全，但不影响总体使用，对这个小瑕疵并不感冒的可以将 Jupyter 插件加入，但是本人有些轻度完美主义，所以暂时先选择Markdown来写。</li>
<li>对于BT3-Flat原主题模板文件，出现部分错误，在此基础上进行改进，同时在主题模板文件中加入JIATHIS社会化分享功能所必须的 <code>css</code> 文件和 <code>js</code> 文件，使得主题支持社会化分享功能。</li>
<li>对于DISQUS第三方评论插件的显示问题。由于DISQUS是国外的，在国内浏览的话会被Q的，如果可以FQ，是可以使用的。</li>
<li>由于个人不太懂css响应式布局，所以在手机端显示会有一些问题，稍后研究完再进行修改。</li>
</ol>
]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;前言&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;在今年的个人计划中，想要搭建一个数据挖掘的平台，主要目的是，希望通过这件事能让自己对数据挖掘、机器学习的各种算法都很熟练，同时对搭建这样的平台框架有个基础的实践与认知。因此，就想在做这件事的时候能将自己趟过的坑记录整理下来，帮助自己从技术上提高。所以，首先得搭建一个自己的博客。虽然，目前网上有很多现成的博客系统，但是自己总觉得自定义的才是最炫酷的（其实并没有什么卵用），希望能一直坚持下来吧。本文采用 Python 的 Pelican 库搭建数据科学博客，并将 blog 挂在 Github Pages 上。&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="Pelican" scheme="http://joshuazou.cn/categories/Pelican/"/>
    
    
      <category term="blog" scheme="http://joshuazou.cn/tags/blog/"/>
    
      <category term="git" scheme="http://joshuazou.cn/tags/git/"/>
    
      <category term="pelican" scheme="http://joshuazou.cn/tags/pelican/"/>
    
      <category term="python" scheme="http://joshuazou.cn/tags/python/"/>
    
  </entry>
  
  <entry>
    <title>Hello World</title>
    <link href="http://joshuazou.cn/2017/01/11/hello-world/"/>
    <id>http://joshuazou.cn/2017/01/11/hello-world/</id>
    <published>2017-01-11T06:26:33.000Z</published>
    <updated>2017-07-28T02:56:32.236Z</updated>
    
    <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/" target="_blank" rel="external">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="external">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="external">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="external">GitHub</a>.<br><a id="more"></a></p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo new <span class="string">"My New Post"</span></div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="external">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo server</div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="external">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo generate</div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="external">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo deploy</div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/deployment.html" target="_blank" rel="external">Deployment</a></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;Welcome to &lt;a href=&quot;https://hexo.io/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Hexo&lt;/a&gt;! This is your very first post. Check &lt;a href=&quot;https://hexo.io/docs/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;documentation&lt;/a&gt; for more info. If you get any problems when using Hexo, you can find the answer in &lt;a href=&quot;https://hexo.io/docs/troubleshooting.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;troubleshooting&lt;/a&gt; or you can ask me on &lt;a href=&quot;https://github.com/hexojs/hexo/issues&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;GitHub&lt;/a&gt;.&lt;br&gt;
    
    </summary>
    
      <category term="Hexo-blog" scheme="http://joshuazou.cn/categories/Hexo-blog/"/>
    
    
      <category term="test" scheme="http://joshuazou.cn/tags/test/"/>
    
      <category term="hexo" scheme="http://joshuazou.cn/tags/hexo/"/>
    
  </entry>
  
</feed>
